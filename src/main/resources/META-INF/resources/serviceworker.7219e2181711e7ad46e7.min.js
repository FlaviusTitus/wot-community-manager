(()=>{"use strict";const e="wot-clan-manager:1",t=["/index.html"],a=[new RegExp(`${location.origin}/.*`,"i")],n=[new RegExp("http://localhost:8080/api/.*","i")],s=(e,t)=>{for(let a of t)if("string"==typeof a&&a==e||a instanceof RegExp&&a.test(e))return!0;return!1};self.oninstall=function(a){a.waitUntil((async()=>{await self.skipWaiting();(await caches.open(e)).addAll(t)})())},self.onactivate=function(t){t.waitUntil((async()=>{await self.clients.claim();const t=await caches.keys();await Promise.all(t.map((t=>{if(t!=e)return console.log(`[Service Worker] Delete cache: ${t}`),caches.delete(t)})))})())},self.addEventListener("fetch",(t=>{const i=t.request;t.respondWith((async()=>{let t=await caches.match(i);if(t)return t;if(t=await fetch(i),t.ok&&t.status<300&&(e=>{const t=e.url;return!s(t,n)&&!!s(t,a)})(i)){const a=await caches.open(e);try{a.put(i,t.clone())}catch(e){console.warn(e)}}return t})())})),self.addEventListener("message",(function(e){console.log(`Received message from main thread: ${e.data}`),e.ports[0].postMessage(`Got message! Sending direct message back - "${e.data}"`)}))})();
//# sourceMappingURL=serviceworker.7219e2181711e7ad46e7.min.js.map